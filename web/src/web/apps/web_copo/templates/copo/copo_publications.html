{% extends 'copo/base_2col.html' %}

{% load staticfiles %}
{% load web_tags %}
{% load html_tags %}

{% block stylesheet_block %}
{% endblock %}


{% block title_block %} COPO Publications {% endblock %}

{% block tagline_block %}

{% endblock %}


{% block browse_header_block %}
    {% csrf_token %}
    <div hidden id="hidden_attrs">
        <!-- hidden attributes  -->
        <input type="hidden" id="nav_component_name" value="publication"/>
    </div>

{% endblock %}

{% block page_tile %}
    {% include "component_navbar.html" %}
{% endblock page_tile %}


{% block content %}
    <!-- publication entry options -->
    <div id="pub_options" class="panel panel-default collapse" style="border-color: #fff; box-shadow: none;">
        <div class="panel-body">
            <div class="row">
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <button type="button" style="background-image:none;"
                            class="btn btn-sm btn-primary new-form-call"
                            data-component="publication">Publication Form (Manual Entry)
                    </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <div class="input-group">
                        <input type="text" class="form-control input-sm resolver-data" data-resolver="doi"
                               placeholder="Enter a DOI">
                        <span class="input-group-btn">
                            <button class="btn btn-sm btn-primary resolver-submit" type="button"
                                    style="background-image:none;">Resolve</button>
                        </span>
                    </div>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3">
                    <div class="input-group">
                        <input type="text" class="form-control input-sm resolver-data" data-resolver="pmid"
                               placeholder="Enter a PubMed ID">
                        <span class="input-group-btn">
                            <button class="btn btn-sm btn-primary resolver-submit"
                                    type="button"
                                    style="background-image:none;">Resolve</button>
                        </span>
                    </div>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3"></div>
            </div>
        </div>
    </div>

    <!-- getting started section -->
    <div class="row">
        <div class="col-sm-5 col-md-5 col-lg-5 col-xs-offset-0 page-welcome-message" style="display: none;">
            <div class="copo-webui-popover">
                <div class="webui-popover-inner">
                    <h3 class="copo-webui-popover-title">Publications - Getting started</h3>
                    <div class="copo-webui-popover-content">
                        <div class="webpop-content-div">
                            The publications component of a profile associates relevant literature with
                            the work profile. This can provide better context and reference for the piece of
                            research captured by the profile. <br/><br/>Click the
                            <span class='fa-stack text-primary'><i
                                    class='fa fa-circle fa-stack-2x'></i><i
                                    class='fa fa-plus fa-stack-1x fa-inverse'></i></span> button to access available
                            options for entering publication records:
                            <ol>
                                <li><strong>Manual Entry: </strong>
                                    <p>Provides an empty publication form for record entry. This option can
                                        be useful in situations such as when entering metadata for a paper that
                                        hasn't yet been published,
                                        or indexed by a public resource.
                                    </p>
                                </li>
                                <li><strong>Enter a DOI: </strong>
                                    <p>Supply a valid DOI and click on the resolve button. If the resolution is
                                        successful, the metadata for the paper will be automatically filled out in the
                                        publication form. Make sure to verify the resolved record, for correctness,
                                        before
                                        proceeding to save it.
                                    </p>
                                </li>
                                <li><strong>Enter a PubMed ID: </strong>
                                    <p>Supply a valid PubMed ID and click on the resolve button. If the resolution is
                                        successful, the metadata for the paper will be automatically filled out in the
                                        publication form. Make sure to verify the resolved record, for correctness,
                                        before
                                        proceeding to save it.
                                    </p>
                                </li>
                            </ol>
                            <div><strong>Quick Tour: </strong>To explore the various
                                controls available on this page, click the <span class='fa-stack'
                                                                                 style='color:#e68a00;'><i
                                        class='fa fa-circle fa-stack-2x'></i><i
                                        class='fa fa-lightbulb-o fa-stack-1x fa-inverse'></i></span> icon.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- publication_table -->
    <div data-copo-tour-id="publication_table"></div> <!-- div used by the quick tour agent -->
    <div class="table-parent-div">
        <table id="publication_table" class="table table-striped table-bordered copo-noborders-table"
               cellspacing="0" width="100%">
        </table>
    </div>

{% endblock %}

{% block help_section %}

    <!-- placeholder for contextual help -->
    <div class="context-help-request"></div>

{% endblock %}


{% block js_block %}
    <script src="{% static 'copo/js/generic_handlers.js' %}"></script>
    <script src="{% static 'copo/js/generic_handlers_ext2.js' %}"></script>
    <script src="{% static 'copo/js/copo_form_handlers.js' %}"></script>
    <script src="{% static 'copo/js/copo_publication.js' %}"></script>
{% endblock %}
